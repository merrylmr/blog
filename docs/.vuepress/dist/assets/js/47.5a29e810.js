(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{397:function(e,n,t){"use strict";t.r(n);var a=t(54),s=Object(a.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"npm发布vue组件包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm发布vue组件包"}},[e._v("#")]),e._v(" npm发布Vue组件包")]),e._v(" "),t("h2",{attrs:{id:"方案一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案一"}},[e._v("#")]),e._v(" 方案一：")]),e._v(" "),t("h3",{attrs:{id:"版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#版本"}},[e._v("#")]),e._v(" 版本")]),e._v(" "),t("ul",[t("li",[e._v("webpack: 5.60.0")]),e._v(" "),t("li",[e._v("webpack-cli: 4.9.1")])]),e._v(" "),t("h3",{attrs:{id:"前提准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前提准备"}},[e._v("#")]),e._v(" 前提准备")]),e._v(" "),t("ol",[t("li",[e._v("用npm账号")]),e._v(" "),t("li",[e._v("npm镜像：确保你的registry是"),t("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2F",title:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("www.npmjs.com/"),t("OutboundLink")],1),e._v(", 而不是淘宝源")])]),e._v(" "),t("h3",{attrs:{id:"步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[e._v("#")]),e._v(" 步骤")]),e._v(" "),t("ol",[t("li",[e._v("编写一手机端日记组件 calendar/Index.vue")]),e._v(" "),t("li",[e._v("在根目录创建一个index.js文件,内容大致如下")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import vCalendar from './calendar/Index.vue'\n\nconst install = function (Vue) {\n    Vue.component(vCalendar.name, vCalendar)\n}\n// auto install\nif (typeof window !== 'undefined' && window.Vue) {\n    install(window.Vue) // 通过use方式全部引入\n}\nvCalendar.install = install;\nexport default vCalendar\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[e._v("在根目录新建一个webpack.config.js")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const TerserPlugin = require(\"terser-webpack-plugin\");\nconst {CleanWebpackPlugin} = require(\"clean-webpack-plugin\");\nconst VueLoaderPlugin = require('vue-loader/lib/plugin');\nmodule.exports = {\n    target: ['web', 'es5'],\n    entry: {\n        index: ['./index.js']\n    },\n    output: {\n        path: __dirname + '/dist',\n        filename: '[name].js',\n        chunkFilename: \"[name].js\",\n        // 这将在所有模块定义下暴露你的库, 允许它与 CommonJS、AMD 和作为全局变量工作\n        libraryTarget: 'umd'\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.css$/,\n                use: ['style-loader', 'css-loader'],\n            },\n            {\n                test: /\\.scss$/,\n                use: [\n                    'vue-style-loader',\n                    'css-loader',\n                    'sass-loader'\n                ],\n            },\n\n            {\n                test: /\\.vue$/,\n                loader: 'vue-loader',\n                options: {\n                    loaders: {\n                        scss: ['vue-style-loader',\n                            'css-loader',\n                            'sass-loader'],\n                    },\n                    compilerOptions: {\n                        preserveWhitespace: false\n                    }\n                }\n            },\n            {\n                test: /\\.js$/,\n                exclude: /node_modules/,\n                loader: 'babel-loader'\n            },\n        //  处理图片\n            {\n                test: /\\.(png|jpg|gif|svg)$/,\n                loader: 'url-loader',\n                options: {\n                    limit: 10000,\n                    name: '[name].[ext]?[hash]',\n                    esModule: false,\n                }\n            }\n        ]\n    },\n    plugins: [\n        new CleanWebpackPlugin({}),\n      // important\n        new VueLoaderPlugin()\n    ],\n    watchOptions: {\n        ignored: /node_modules/,\n    },\n}\n")])])]),t("h2",{attrs:{id:"方案二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案二"}},[e._v("#")]),e._v(" 方案二：")]),e._v(" "),t("p",[e._v("https://cli.vuejs.org/zh/guide/build-targets.html#%E5%BA%94%E7%94%A8")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/794c5f301169?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation",target:"_blank",rel:"noopener noreferrer"}},[e._v("Webpack打包图片路径问题"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("参考文档\nhttps://blog.csdn.net/henjuewang/article/details/100561172\n"),t("a",{attrs:{href:"https://juejin.cn/post/6844903620916281358",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue组件发布npm最佳实践"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("https://cn.vuejs.org/v2/cookbook/form-validation.html\nhttps://www.yuque.com/femessage")])])}),[],!1,null,null,null);n.default=s.exports}}]);